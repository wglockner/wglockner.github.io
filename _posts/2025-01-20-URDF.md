---
title:  "URDF/XACRO"
mathjax: false
layout: post
categories: tutorials
---

The Unified Robot Description Format (URDF) is an XML-based file format used in robotics to describe the physical and kinematic structure of a robot. URDF is primarily used in the Robot Operating System (ROS) to model robots for simulation, visualization, and control. It allows users to define the various elements that make up a robot, such as its links (rigid bodies), joints (connections between links), sensors, actuators, and physical properties.


## Understanding URDF

### What is URDF?

The Unified Robot Description Format (URDF) is an XML-based file format used in robotics to describe the physical and kinematic structure of a robot. URDF is primarily used in the Robot Operating System (ROS) to model robots for simulation, visualization, and control. It allows users to define the various elements that make up a robot, such as its links (rigid bodies), joints (connections between links), sensors, actuators, and physical properties.

### Why is URDF important?

URDF provides a standardized way to describe robot models, making it easier to:
1. Simulate robots in environments like Gazebo, helping test functionality before actual deployment.
2. Visualize robots in tools such as RViz, providing an intuitive representation of their physical structure.
3. Facilitate motion planning with packages like MoveIt, ensuring accurate path planning based on kinematic constraints.
4. Enable compatibility across various ROS tools and frameworks, ensuring seamless integration.

### Key Components of a URDF File

A URDF file consists of several key elements that describe the robot's structure and behavior:
1. Robot Element
   -   The root tag of the URDF file, encapsulating the entire robot model.
   -   Example:
       ```xml
       <robot name="my_robot">
         <!-- Robot definition goes here -->
       </robot>
       ```
2. Links
   -   Represent the rigid parts (bodies) of the robot.
   -   Links contain visual, collision, and inertial properties.
   -   Example:
       ```xml
       <link name="base_link">
         <visual>
           <geometry>
             <box size="1 1 0.2"/>
           </geometry>
           <material name="blue"/>
         </visual>
       </link>
       ```
3. Joints
   -   Define connections between two links and specify how they move relative to each other.
   -   Types of joints:
       -   Fixed: No movement.
       -   Revolute: Rotational motion around an axis.
       -   Prismatic: Linear motion along an axis.
       -   Floating: 6 degrees of freedom (rarely used).
       -   Continuous: Unlimited rotational motion.
   - Example:
     ```xml
     <joint name="arm_joint" type="revolute">
       <parent link="base_link"/>
       <child link="arm_link"/>
       <origin xyz="0 0 0.5" rpy="0 0 0"/>
       <axis xyz="0 0 1"/>
     </joint>
     ```
4. Inertial Properties
   -   Represent the mass and moment of inertia, crucial for realistic physics simulations.
   -   Example:
       ```xml
       <inertial>
         <mass value="2.0"/>
         <origin xyz="0 0 0"/>
         <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>
       </inertial>
       ```
5. Visual Representation
   -   Defines how the robot looks in visualization tools.
   -   Can include meshes or basic geometric shapes (boxes, spheres, cylinders).
   -   Example
       ```xml
       <visual>
         <geometry>
           <cylinder radius="0.1" length="1.0"/>
         </geometry>
         <material name="green"/>
       </visual>
       ```
6. Collision Properties
   -   Define the robotâ€™s collision boundaries for physics engines in simulations.
   -   Example:
       ```xml
       <collision>
         <geometry>
           <sphere radius="0.2"/>
         </geometry>
       </collision>
       ```

### Advantages of Using URDF
1. Modularity:
   -   Easily extendable with additional features like sensors, actuators, and plugins.
2. Cross-Platform Compatibility:
   -   Works with ROS1, ROS2, and other simulation environments.
3. Ease of Visualization and Debugging:
   -   Can visualize the robot in RViz to check the structure and configuration.
4. Parameterization with Xacro:
   -   Using Xacro (XML Macros), URDFs can be modularized and parameterized to avoid code repetition.

### Common Use Cases of URDF
1. Robot Simulation:
   -   URDF files are used in Gazebo to simulate robot behavior before deployment.
2. Kinematic Analysis:
   -   URDF helps in kinematic studies to understand the movement and constraints of a robot.
3. Motion Planning:
   -   MoveIt (and other motion planning frameworks) utilizes URDF to plan and execute robot motions effectively.
4. Real-World Deployment:
   -   The same URDF can be used for both simulation and real-world robot control.
 









## XACRO

Embed code by putting `{{ "{% highlight language " }}%}` `{{ "{% endhighlight " }}%}` blocks around it. Adding the parameter `linenos` will show source lines besides the code.

{% highlight c %}

static void asyncEnabled(Dict* args, void* vAdmin, String* txid, struct Allocator* requestAlloc)
{
    struct Admin* admin = Identity_check((struct Admin*) vAdmin);
    int64_t enabled = admin->asyncEnabled;
    Dict d = Dict_CONST(String_CONST("asyncEnabled"), Int_OBJ(enabled), NULL);
    Admin_sendMessage(&d, txid, admin);
}

{% endhighlight %}

## Gists

With the `jekyll-gist` plugin, which is preinstalled on Github Pages, you can embed gists simply by using the `gist` command:

<script src="https://gist.github.com/5555251.js?file=gist.md"></script>

## Images

Upload an image to the *assets* folder and embed it with `![title](/assets/name.jpg))`. Keep in mind that the path needs to be adjusted if Jekyll is run inside a subfolder.

A wrapper `div` with the class `large` can be used to increase the width of an image or iframe.

![Flower](https://user-images.githubusercontent.com/4943215/55412447-bcdb6c80-5567-11e9-8d12-b1e35fd5e50c.jpg)

[Flower](https://unsplash.com/photos/iGrsa9rL11o) by Tj Holowaychuk

## Embedded content

You can also embed a lot of stuff, for example from YouTube, using the `embed.html` include.

{% include embed.html url="https://www.youtube.com/embed/_C0A5zX-iqM" %}
